<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>WeatherStationMan by akhilvasvani</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>

      <header>
        <h1>WeatherStationMan</h1>
        <p>Wireless outdoor weather station that logs and graphs data.</p>
      </header>

      <div id="banner">
        <span id="logo"></span>

        <a href="https://github.com/akhilvasvani/WeatherStationMan" class="button fork"><strong>View On GitHub</strong></a>
        <div class="downloads">
          <span>Downloads:</span>
          <ul>
            <li><a href="https://github.com/akhilvasvani/WeatherStationMan/zipball/master" class="button">ZIP</a></li>
            <li><a href="https://github.com/akhilvasvani/WeatherStationMan/tarball/master" class="button">TAR</a></li>
          </ul>
        </div>
      </div><!-- end banner -->

    <div class="wrapper">
      <nav>
        <ul></ul>
      </nav>
      <section>
        <p>The WeatherStationMan is a wireless outdoor Arduino weather station that logs and graphs humidity, temperature, and pressure. This project requires no external power for outdoor sensors (it's solar powered), wirelessly communicates between sensors and computer (either Mac or PC), logs the data, and is relatively inexpensive and easy to build. </p>

<h1>Building Materials:</h1>

<ul>
<li>Seeduino Stalker v2.3 </li>
<li>Solar panel for powering the outdoor sensor</li>
<li>LiPo battery of 1000mAH </li>
<li>DHT22 Humidity sensor </li>
<li>BMP085 Barometric pressure sensor </li>
<li>10KOhm Resistor</li>
<li>2x XBee series 2 modules </li>
<li>XBee Explorer </li>
<li>Jumper wires</li>
<li>USB Cable to connect PC to XBee Explorer</li>
<li>Small solder-less bread-board to hook up the two sensors above (for debugging purposes), but then I used 21 x 19 Proto board</li>
<li>An FTDI board, 3.3V (to debug information from the stalker board)</li>
</ul><h2>Software:</h2>

<ul>
<li>Download <a href="http://arduino.cc/en/Main/Software">Arduino</a> (I used the version 0022, but my code can work for the newer Arduino version)</li>
<li>Download <a href="http://www.digi.com/support/productdetail?pid=4624&amp;osvid=0&amp;type=utilities">X-CTU</a> (for configuring the XBee modules on PC) or <a href="http://freeware.the-meiers.org/">CoolTerm</a> (for configuring the XBee modules on Mac) </li>
<li>Download <a href="http://www.processing.org/download/">Processing</a> (tool to read graph) </li>
<li>Download <a href="http://www.ftdichip.com/Drivers/VCP.htm">drivers</a> (if your computer cannot find drivers use the website to download them)</li>
</ul><h3>Other Tools:</h3>

<ul>
<li>Soldering Iron</li>
<li>Saw</li>
</ul><p><strong>Disclaimer:
I built this project as something to do in my spare time and not as a product. I did not include any other languages support besides English. I used only Celsius temperatures (it can modified to record Fahrenheit temperature if need be), and once again this a recreational project and NOT a product.</strong></p>

<h4>Overview to build the WeatherStationMan</h4>

<ol>
<li>Connect all the sensors to the Stalker/Arduino board<br>
</li>
<li>Configure the XBee modules</li>
<li>Load Arduino code onto the Stalker</li>
<li>Run graphing program on the computer</li>
<li>Last-minute modifications </li>
</ol><h5>Connecting the Sensors:</h5>

<ol>
<li>Connect the DHT22 sensor to breadboard, which is connected via Jumper wires to the Stalker Board

<ul>
<li>DHT22 is connected to digital pin 2 of Stalker board</li>
<li>DHT22 Pin 1 to 3.3 Volt of Stalker board</li>
<li>DHT22 Pin 4 to GND of Stalker board</li>
<li>DHT22 Pin 2 to digital pin 2 of Stalker board</li>
<li>10K resistor between pin 1 (Vcc) to pin 2 (data) of the sensor</li>
<li>DHT22 Pin 3 is left not connected.</li>
</ul>
</li>
<li>Connect the BMP085 sensor to the breadboard, which is connected via Jumper wires to the Stalker Board

<ul>
<li>BMP085 is connected to the I2C interface (analog pins 4 and 5 of the Stalker Board).</li>
<li>Vcc from sensor breakout board to 3.3V of Stalker board</li>
<li>GND from sensor breakout board to GND of Stalker board</li>
<li>SDA from sensor breakout board to Stalker board analog pin 4</li>
<li>SCL from sensor breakout board to Stalker board analog pin 5</li>
</ul>
</li>
</ol><h6>Configuring the XBee modules:</h6>

<ol>
<li>Install the X-CTU utility (or CoolTerm if you're using Mac) and Drivers</li>
<li>Connect XBee with USB to computer and run CoolTerm </li>
<li>Configure one unit to be coordinator and another to be endpoint</li>
<li>Place the XBee module configured as endpoint into the Stalker socket</li>
<li>Place the XBee module configured as coordinator into the XBeeExplorer and connect it to the computer</li>
<li>Optional: Do firmware upgrade to the XBee Modules 
More information for <a href="http://ashleyhughesarduino.wordpress.com/2012/01/03/new-easier-xbee-for-mac-lion-os-x-10-7-with-arduino/">Mac</a>
More information for <a href="http://www.instructables.com/id/Changing-Xbee-Baud-Rates/?ALLSTEPS">PC</a>
</li>
</ol><h6> Loading Arduino code onto the Stalker board:</h6>

<ol>
<li>Copy the Boards code into the Boards notepad/textEdit document, which is located inside the arduino folder (inside hardware folder) in the Arduino program (arduino folder is located in users/ "your username" /Arduino/Contents/Resources/Java/hardware/arduino/)</li>
<li>Connect FTDI board on the Stalker (for debugging purposes)</li>
<li>Connect the USB Cable from the FTDI board to the computer </li>
<li>Add the Libraries DHT22, BMP085, and Battery into the user libraries of your Arduino (libraries folder is located in users/ "your username" /Arduino/Contents/Resources/Java/libraries)</li>
<li>Place the code for the Stalker into your development area </li>
<li>Compile and load the program onto the Stalker</li>
<li>Remove USB cable and connect XBee module </li>
</ol><h6> Running graphing program on the computer:</h6>

<ol>
<li>(For Mac) Copy certain libraries from the Arduino program into Processing (Copy RXTXcomm.jar and librxtxSerial.jnilib from Arduino (found in users/ "your username" /Arduino/Contents/Resources/Java) into Processing (where to place the RXTXcomm.jar copy: users/ "your username" /Processing/Contents/Resources/Java/modes/java/libraries/serial/library/) (where to place the librxtxSerial.jnilib copy: users/ "your username" /Processing/Contents/Resources/Java/modes/java/libraries/serial/library/macosx)</li>
<li>Place the code for the graph into the development area</li>
<li>Connect battery and solar charger to the Stalker </li>
<li>Plug the other XBee module into the computer with the USB cable</li>
<li>Run the program and graph </li>
</ol><h6> Last-minute modifications:</h6>

<ol>
<li>Remove the bread board and solder the jumpers wire through a proto board</li>
<li>Put an enclosure around weather station </li>
</ol><p>Last, but not least, enjoy the weather!</p>

<p>Notes: </p>

<ul>
<li><p>You need to place the outdoor unit somewhere where direct sunlight does occur from time to time, otherwise if there is too much sunlight, temperatures reading will be very high, especially in the summer. In addition, after 1 hour of direct sunlight the battery should be fully charged. </p></li>
<li><p>There is a log file that saves the data every day. If you want you can modify the data, so that you receive data every 30 minutes or longer instead of every second. </p></li>
<li><p>If, for some reason, you cannot open the Graphing and Collection file, rename the folder, which has the processing file in it, graphforbm. Then the computer will be able open the file properly. </p></li>
</ul>
      </section>
      <footer>
        <p>Project maintained by <a href="https://github.com/akhilvasvani">akhilvasvani</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="http://twitter.com/#!/michigangraham">mattgraham</a></small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
    
  </body>
</html>